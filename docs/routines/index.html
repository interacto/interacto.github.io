<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.25.0"/><style data-href="/styles.aedb402e5934ad0a48a9.css" data-identity="gatsby-global-css">@font-face{font-family:Roboto Regular;src:url(/static/Roboto-Regular-a8d6ac03c7b96b7acb6228ff2676139d.ttf)}@font-face{font-family:Roboto Black;src:url(/static/Roboto-Black-2a4285847db4a9acb97fef9905c0ad44.ttf)}:root{--highlight-color:#a00;--border-color:#e5e5e5;font-family:Roboto Regular,Georgia,sans-serif;scroll-behavior:smooth}a{color:var(--highlight-color)}h1{font-family:Roboto Black,Georgia,sans-serif}h2{margin-top:-20px;padding-top:65px}h3{margin-top:30px}.layout-module--highlight--33fb0{color:var(--highlight-color)}.layout-module--body--6b265{left:350px;padding-bottom:30px;position:absolute;right:100px;top:75px}.navigation-module--sidebar--83c03{background-color:#e5e5e5;border-bottom-color:var(--border-color);border-left-color:var(--border-color);border-right:solid var(--border-color);border-top-color:var(--border-color);border-width:1px;bottom:0;left:0;overflow-x:hidden;overflow-y:auto;position:fixed;top:60px;width:250px;z-index:1}.navigation-module--sidebar--83c03 ul{list-style-type:none;margin:0;padding:0}.navigation-module--submenu--d7b39 button{background-color:#e5e5e5;border-style:none;border-width:thin;color:#000;cursor:pointer;font-family:Roboto Regular,Georgia,sans-serif;font-size:16px;min-height:35px;padding-bottom:7px;padding-left:25px;padding-top:7px;text-align:left;width:100%}.navigation-module--submenu--d7b39 button:hover{background-color:var(--highlight-color);color:#fff}.collapsibleMenu-module--header--d23f5{align-items:center;cursor:pointer;display:flex}.collapsibleMenu-module--header--d23f5 button{background-color:#e5e5e5;border-style:none;color:#000;cursor:pointer;font-family:Roboto Regular,Georgia,sans-serif;font-size:21px;min-height:50px;padding-bottom:7px;padding-left:15px;padding-top:7px;text-align:left;width:100%}.collapsibleMenu-module--chevron--98d0e>button{background-color:transparent;padding-right:15px;width:100%}.collapsibleMenu-module--header--d23f5:hover button{stroke:#fff;fill:#fff;background-color:var(--highlight-color);color:#fff}.collapsibleMenu-module--header--d23f5:hover svg{stroke:#fff}.header-module--header--666b3{align-items:center;background-color:#fff;border-bottom:solid var(--border-color);border-left-color:var(--border-color);border-right-color:var(--border-color);border-top-color:var(--border-color);border-width:1px;display:flex;left:0;max-height:60px;min-width:100vw;position:fixed;top:0;z-index:2}.header-module--header-right--272b8{align-items:center;display:flex;gap:10px;position:absolute;right:30px;text-align:right}.header-module--header-right--272b8 a{align-items:center;display:flex}.header-module--logo--9932e{max-height:100%;max-width:100%}code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#f8f8f2;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;-o-tab-size:4;tab-size:4;text-align:left;text-shadow:0 1px rgba(0,0,0,.3);white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.command-line-prompt{border-right:1px solid #999;display:block;float:left;font-size:100%;letter-spacing:-1px;margin-right:1em;pointer-events:none;text-align:right;-webkit-user-select:none;user-select:none}.command-line-prompt>span:before{content:" ";display:block;opacity:.4;padding-right:.8em}.command-line-prompt>span[data-user]:before{content:"[" attr(data-user) "@" attr(data-host) "] $"}.command-line-prompt>span[data-user=root]:before{content:"[" attr(data-user) "@" attr(data-host) "] #"}.command-line-prompt>span[data-prompt]:before{content:attr(data-prompt)}.command-line-prompt>span[data-continuation-prompt]:before{content:attr(data-continuation-prompt)}.command-line span.token.output{opacity:.7}.collapsible-module--header--b400e{align-items:center;background-color:var(--highlight-color);border-style:none;color:#fff;cursor:pointer;display:flex;font-family:Roboto Regular,Georgia,sans-serif;padding:7px 10px 10px}.collapsible-module--container--34e1c{margin-bottom:10px}.collapsible-module--content--b6d65>pre{border-radius:0 5px 5px 5px!important;margin-top:0!important}.collapsible-module--codeBlock--229a9{border-radius:0 5px 5px 5px;margin-top:0}a.anchor{margin-right:5px}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><main class="layout-module--main--e5529"><title></title><header><nav class="header-module--header--666b3"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained header-module--logo--9932e"><div style="max-width:60px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;60&#x27; width=&#x27;60&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/75102531b854052dc7f7fdafd23e90d8/f57b3/interacto-logo.webp 15w,/static/75102531b854052dc7f7fdafd23e90d8/bde72/interacto-logo.webp 30w,/static/75102531b854052dc7f7fdafd23e90d8/927d1/interacto-logo.webp 60w,/static/75102531b854052dc7f7fdafd23e90d8/507b0/interacto-logo.webp 120w" sizes="(min-width: 60px) 60px, 100vw"/><img data-gatsby-image-ssr="" layout="constrained" data-main-image="" style="opacity:0" sizes="(min-width: 60px) 60px, 100vw" decoding="async" loading="lazy" data-src="/static/75102531b854052dc7f7fdafd23e90d8/7ab40/interacto-logo.png" data-srcset="/static/75102531b854052dc7f7fdafd23e90d8/7961d/interacto-logo.png 15w,/static/75102531b854052dc7f7fdafd23e90d8/53973/interacto-logo.png 30w,/static/75102531b854052dc7f7fdafd23e90d8/7ab40/interacto-logo.png 60w,/static/75102531b854052dc7f7fdafd23e90d8/a8b52/interacto-logo.png 120w" alt="Interacto logo"/></picture><noscript><picture><source type="image/webp" srcSet="/static/75102531b854052dc7f7fdafd23e90d8/f57b3/interacto-logo.webp 15w,/static/75102531b854052dc7f7fdafd23e90d8/bde72/interacto-logo.webp 30w,/static/75102531b854052dc7f7fdafd23e90d8/927d1/interacto-logo.webp 60w,/static/75102531b854052dc7f7fdafd23e90d8/507b0/interacto-logo.webp 120w" sizes="(min-width: 60px) 60px, 100vw"/><img data-gatsby-image-ssr="" layout="constrained" data-main-image="" style="opacity:0" sizes="(min-width: 60px) 60px, 100vw" decoding="async" loading="lazy" src="/static/75102531b854052dc7f7fdafd23e90d8/7ab40/interacto-logo.png" srcSet="/static/75102531b854052dc7f7fdafd23e90d8/7961d/interacto-logo.png 15w,/static/75102531b854052dc7f7fdafd23e90d8/53973/interacto-logo.png 30w,/static/75102531b854052dc7f7fdafd23e90d8/7ab40/interacto-logo.png 60w,/static/75102531b854052dc7f7fdafd23e90d8/a8b52/interacto-logo.png 120w" alt="Interacto logo"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><h1>INTERACTO <span class="layout-module--highlight--33fb0">DOCS</span></h1><span class="header-module--header-right--272b8"><a href="https://github.com/interacto"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:30px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;30&#x27; width=&#x27;30&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#080808;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" srcSet="/static/ef7a02b69836dc8b6a732a54c4200dcb/5d252/github.webp 8w,/static/ef7a02b69836dc8b6a732a54c4200dcb/f57b3/github.webp 15w,/static/ef7a02b69836dc8b6a732a54c4200dcb/bde72/github.webp 30w,/static/ef7a02b69836dc8b6a732a54c4200dcb/927d1/github.webp 60w" sizes="(min-width: 30px) 30px, 100vw"/><img data-gatsby-image-ssr="" layout="constrained" data-main-image="" style="opacity:0" sizes="(min-width: 30px) 30px, 100vw" decoding="async" loading="eager" src="/static/ef7a02b69836dc8b6a732a54c4200dcb/53973/github.png" srcSet="/static/ef7a02b69836dc8b6a732a54c4200dcb/22867/github.png 8w,/static/ef7a02b69836dc8b6a732a54c4200dcb/7961d/github.png 15w,/static/ef7a02b69836dc8b6a732a54c4200dcb/53973/github.png 30w,/static/ef7a02b69836dc8b6a732a54c4200dcb/7ab40/github.png 60w" alt="Github logo"/></picture><noscript><picture><source type="image/webp" srcSet="/static/ef7a02b69836dc8b6a732a54c4200dcb/5d252/github.webp 8w,/static/ef7a02b69836dc8b6a732a54c4200dcb/f57b3/github.webp 15w,/static/ef7a02b69836dc8b6a732a54c4200dcb/bde72/github.webp 30w,/static/ef7a02b69836dc8b6a732a54c4200dcb/927d1/github.webp 60w" sizes="(min-width: 30px) 30px, 100vw"/><img data-gatsby-image-ssr="" layout="constrained" data-main-image="" style="opacity:0" sizes="(min-width: 30px) 30px, 100vw" decoding="async" loading="eager" src="/static/ef7a02b69836dc8b6a732a54c4200dcb/53973/github.png" srcSet="/static/ef7a02b69836dc8b6a732a54c4200dcb/22867/github.png 8w,/static/ef7a02b69836dc8b6a732a54c4200dcb/7961d/github.png 15w,/static/ef7a02b69836dc8b6a732a54c4200dcb/53973/github.png 30w,/static/ef7a02b69836dc8b6a732a54c4200dcb/7ab40/github.png 60w" alt="Github logo"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></a><a href="/ts-docs/index.html"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:106px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;25&#x27; width=&#x27;106&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear;background-color:#f8f8f8;position:absolute;top:0;left:0;bottom:0;right:0"></div><picture><source type="image/webp" data-srcset="/static/19ee39a67aac1d3a3ad04dad4c243f48/0d272/tsdoc.webp 27w,/static/19ee39a67aac1d3a3ad04dad4c243f48/a7a08/tsdoc.webp 53w,/static/19ee39a67aac1d3a3ad04dad4c243f48/fb78c/tsdoc.webp 106w,/static/19ee39a67aac1d3a3ad04dad4c243f48/25c94/tsdoc.webp 212w" sizes="(min-width: 106px) 106px, 100vw"/><img data-gatsby-image-ssr="" layout="constrained" data-main-image="" style="opacity:0" sizes="(min-width: 106px) 106px, 100vw" decoding="async" loading="lazy" data-src="/static/19ee39a67aac1d3a3ad04dad4c243f48/b6132/tsdoc.png" data-srcset="/static/19ee39a67aac1d3a3ad04dad4c243f48/9a9d3/tsdoc.png 27w,/static/19ee39a67aac1d3a3ad04dad4c243f48/483f9/tsdoc.png 53w,/static/19ee39a67aac1d3a3ad04dad4c243f48/b6132/tsdoc.png 106w,/static/19ee39a67aac1d3a3ad04dad4c243f48/90fc8/tsdoc.png 212w" alt="TSDoc logo"/></picture><noscript><picture><source type="image/webp" srcSet="/static/19ee39a67aac1d3a3ad04dad4c243f48/0d272/tsdoc.webp 27w,/static/19ee39a67aac1d3a3ad04dad4c243f48/a7a08/tsdoc.webp 53w,/static/19ee39a67aac1d3a3ad04dad4c243f48/fb78c/tsdoc.webp 106w,/static/19ee39a67aac1d3a3ad04dad4c243f48/25c94/tsdoc.webp 212w" sizes="(min-width: 106px) 106px, 100vw"/><img data-gatsby-image-ssr="" layout="constrained" data-main-image="" style="opacity:0" sizes="(min-width: 106px) 106px, 100vw" decoding="async" loading="lazy" src="/static/19ee39a67aac1d3a3ad04dad4c243f48/b6132/tsdoc.png" srcSet="/static/19ee39a67aac1d3a3ad04dad4c243f48/9a9d3/tsdoc.png 27w,/static/19ee39a67aac1d3a3ad04dad4c243f48/483f9/tsdoc.png 53w,/static/19ee39a67aac1d3a3ad04dad4c243f48/b6132/tsdoc.png 106w,/static/19ee39a67aac1d3a3ad04dad4c243f48/90fc8/tsdoc.png 212w" alt="TSDoc logo"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div></a><a href="https://www.npmjs.com/package/interacto"><img src="https://img.shields.io/npm/v/interacto" alt="Interacto npm Link"/></a><a href="https://search.maven.org/search?q=interacto"><img src="https://img.shields.io/maven-central/v/io.github.interacto/interacto-javafx" alt="Maven Interacto Link"/></a></span></nav></header><nav class="navigation-module--sidebar--83c03"><ul><li><div class="collapsibleMenu-module--container--75375"><div class="collapsibleMenu-module--header--d23f5"><button>Home</button><span class="collapsibleMenu-module--chevron--98d0e"><button><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-right" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="9 6 15 12 9 18"></polyline></svg></button></span></div></div></li><li><div class="collapsibleMenu-module--container--75375"><div class="collapsibleMenu-module--header--d23f5"><button>Installation</button><span class="collapsibleMenu-module--chevron--98d0e"><button><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-right" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="9 6 15 12 9 18"></polyline></svg></button></span></div></div></li><li><div class="collapsibleMenu-module--container--75375"><div class="collapsibleMenu-module--header--d23f5"><button>Getting started</button><span class="collapsibleMenu-module--chevron--98d0e"><button><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-right" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="9 6 15 12 9 18"></polyline></svg></button></span></div></div></li><li><div class="collapsibleMenu-module--container--75375"><div class="collapsibleMenu-module--header--d23f5"><button>Interactions</button><span class="collapsibleMenu-module--chevron--98d0e"><button><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-right" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="9 6 15 12 9 18"></polyline></svg></button></span></div></div></li><li><div class="collapsibleMenu-module--container--75375"><div class="collapsibleMenu-module--header--d23f5"><button>Commands/Undo</button><span class="collapsibleMenu-module--chevron--98d0e"><button><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-right" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="9 6 15 12 9 18"></polyline></svg></button></span></div></div></li><li><div class="collapsibleMenu-module--container--75375"><div class="collapsibleMenu-module--header--d23f5"><button>Routines</button><span class="collapsibleMenu-module--chevron--98d0e"><button><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-right" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="9 6 15 12 9 18"></polyline></svg></button></span></div></div></li><li><div class="collapsibleMenu-module--container--75375"><div class="collapsibleMenu-module--header--d23f5"><button>Angular Integration</button><span class="collapsibleMenu-module--chevron--98d0e"><button><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-right" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="9 6 15 12 9 18"></polyline></svg></button></span></div></div></li><li><div class="collapsibleMenu-module--container--75375"><div class="collapsibleMenu-module--header--d23f5"><button>Front-end testing</button><span class="collapsibleMenu-module--chevron--98d0e"><button></button></span></div></div></li><li><div class="collapsibleMenu-module--container--75375"><div class="collapsibleMenu-module--header--d23f5"><button>IRL Examples</button><span class="collapsibleMenu-module--chevron--98d0e"><button><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-right" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="9 6 15 12 9 18"></polyline></svg></button></span></div></div></li></ul></nav><div class="layout-module--body--6b265"><div><h1>Routines</h1> <p>Routines are methods that give configuration options for bindings. Some activate simple options like logging
(see <a href="./routines#the-log-routine-logging">log</a>). Others, like
<a href="./routines#the-first-routine-interaction-start">first</a> or
<a href="./routines#the-end-cancel-endorcancel-routines-interaction-ends-cancels-ends-or-canceled">end</a>, allow you
to specify an arrow function that will be executed at a given point during the interaction.</p><h2 id="what-are-i-and-c-in-binding-routines" style="position:relative"><a href="#what-are-i-and-c-in-binding-routines" aria-label="what are i and c in binding routines permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>What are <code class="language-text">i</code> and <code class="language-text">c</code> in binding routines?</h2><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">multiTouchBinder</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">toProduce</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> <span class="token operator">...</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">...</span><span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><p>Many routines accept an arrow function as an argument, that will be called when the routine is executed.
Arrow functions in routines take different arguments, the two most common being <code class="language-text">i</code> and <code class="language-text">c</code>.</p><h3 id="the-i-argument" style="position:relative"><a href="#the-i-argument" aria-label="the i argument permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">i</code> argument</h3><p><code class="language-text">toProduce</code> and <code class="language-text">then</code> are examples of routines that take the <code class="language-text">i</code> argument.
<code class="language-text">i</code> represents what we call <strong>interaction data</strong>, the data exhibited by a given user interaction (what button was
clicked on by the user, what the current position of the mouse cursor is, etc.).
The type of <code class="language-text">i</code> will always be a sub-class of <code class="language-text">InteractionData</code>, but varies depending on the exact nature of the interaction
and what kind of data this interaction provides.</p><p>Here we use a MultiTouch interaction, therefore the type of <code class="language-text">i</code> is <code class="language-text">MultiTouchData</code>:</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">multiTouchBinder</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">...</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">...</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">...</span><span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><h3 id="the-c-argument" style="position:relative"><a href="#the-c-argument" aria-label="the c argument permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">c</code> argument</h3><p>The <code class="language-text">then</code> routine (and many others) takes an argument called <code class="language-text">c</code>.
<code class="language-text">c</code> refers to the ongoing command, allowing you to update it during the interaction.</p><h2 id="cumulative-routines" style="position:relative"><a href="#cumulative-routines" aria-label="cumulative routines permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cumulative routines</h2><p>Most routines that take arguments, like routines accepting
an arrow function (<code class="language-text">when</code>, <code class="language-text">first</code>...) or the <code class="language-text">on</code> routine are cumulative.
This means that if you use the same routine several times in one binder, the binder will combine their
effects.</p><p>For example, let&#x27;s say a routine takes an arrow function as argument and you use it several times.
When the routine is called, the binder will call all the arrow functions you defined, in the order they were declared.</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">longTouchBinder</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">onDynamic</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>nativeElement<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;A&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;B&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><p>In this example, &#x27;A&#x27;, then &#x27;B&#x27;, are displayed in the console when the interaction starts and the <code class="language-text">first</code> routine is called.</p><p>If a routine is not cumulative, then the last use of the routine in the binder will override any previous ones.
However, most non-cumulative routines like <code class="language-text">stopImmediatePropagation</code> or <code class="language-text">preventDefault</code> don&#x27;t accept any arguments, so
using the same routine several times in this case will have no visible impact.</p><p>The complete list of cumulative routines is
<code class="language-text">on</code>, <code class="language-text">onDynamic</code>, <code class="language-text">when</code>, <code class="language-text">first</code>, <code class="language-text">then</code>, <code class="language-text">cancel</code>, <code class="language-text">endOrCancel</code>, <code class="language-text">end</code>, <code class="language-text">catch</code>, <code class="language-text">ifHadEffects</code>, <code class="language-text">ifHadNoEffect</code>,
<code class="language-text">ifCannotExecute</code>, <code class="language-text">log</code>.</p><h2 id="where-to-begin-selecting-a-user-interaction" style="position:relative"><a href="#where-to-begin-selecting-a-user-interaction" aria-label="where to begin selecting a user interaction permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Where to begin: selecting a user interaction</h2><p>When configuring a binding, the initial routine allows you to decide which user interaction to use.
See the <a href="./interactions">interaction documentation</a> for details.</p><h2 id="how-to-register-with-widgets-the-on-and-ondynamic-routines" style="position:relative"><a href="#how-to-register-with-widgets-the-on-and-ondynamic-routines" aria-label="how to register with widgets the on and ondynamic routines permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to register with widgets: the <code class="language-text">on</code> and <code class="language-text">onDynamic</code> routines</h2><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">buttonBinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>button<span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><p>The <code class="language-text">on</code> routine identifies the widgets on which the user interaction will operate.
A single binding can operate on several widgets:</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">buttonBinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>button1<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>button2<span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><p>Note: the <code class="language-text">on</code> routine is cumulative, therefore you could also write the same binder by combining two <code class="language-text">on</code> routines
instead of using just one (see the following example). This behaviour is unique to <code class="language-text">on</code> and <code class="language-text">when</code>:
with other routines, using the same routine twice in the same binder will lead to the second one overriding the first one.</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">buttonBinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>button1<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>button2<span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><p>The registration to widgets can be dynamic:
a binding can listen for changes in the children list of a given widget.
When new children are added, the binding will operate on them.
When children are removed, the binding will no longer operate on them.
This is done thanks to the <code class="language-text">onDynamic</code> routine.</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">longTouchBinder</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">onDynamic</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><p>Optimization: a user interaction does not listen for all the UI events that concern it.
For example a DnD is an assembly of press, drag, release, and key type events.
The user interaction registers with the strictly necessary events at a given instant:
a DnD starts with a pressure, so that the interaction listens for a pressure event.
The pressure must be followed by moves, so that the interaction listens for move events only, etc.</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">dndBinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><h3 id="angular-using-on-with-viewchildren" style="position:relative"><a href="#angular-using-on-with-viewchildren" aria-label="angular using on with viewchildren permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Angular: using <code class="language-text">on</code> with <code class="language-text">ViewChildren</code></h3><p>Let&#x27;s say you have a property in your Angular component that refers to a list of <code class="language-text">div</code> elements:</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token decorator"><span class="token at operator">@</span><span class="token function">ViewChildren</span></span><span class="token punctuation">(</span><span class="token string">&#x27;divs&#x27;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> divs<span class="token operator">:</span> QueryList<span class="token operator">&lt;</span>ElementRef<span class="token operator">&lt;</span>HTMLDivElement<span class="token operator">&gt;&gt;</span><span class="token punctuation">;</span></code></pre></div></div></div><p>To register all the <code class="language-text">div</code> elements from <code class="language-text">divs</code>, you can write this <code class="language-text">on</code> routine:</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">clickBinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>divs<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token operator">...</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><p>This converts the <code class="language-text">queryList</code> as an array of <code class="language-text">div</code> objects.</p><h2 id="the-toproduce-routine-command-creation" style="position:relative"><a href="#the-toproduce-routine-command-creation" aria-label="the toproduce routine command creation permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">toProduce</code> routine: command creation</h2><p>The role of the <code class="language-text">toProduce</code> routine is to create the command that should be executed when the user successfully completes
the interaction. It is called once the interaction has begun and the condition of the
<a href="./routines#how-to-filter-user-interaction-data-the-when-routine-and-strictstart"><code class="language-text">when()</code></a> routine is verified.
This routine takes as argument an anonymous function that returns the new command.</p><p>In this example, the <code class="language-text">toProduce</code> routine is used to create a <code class="language-text">Translate</code> command that will be executed once
a drag-and-drop interaction is completed.</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">dndBinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">toProduce</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Translate</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>src<span class="token punctuation">.</span><span class="token function">tgt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token operator">...</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><h2 id="how-to-filter-user-interaction-data-the-when-routine-and-strictstart" style="position:relative"><a href="#how-to-filter-user-interaction-data-the-when-routine-and-strictstart" aria-label="how to filter user interaction data the when routine and strictstart permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How to filter user interaction data: the <code class="language-text">when</code> routine (and <code class="language-text">strictStart</code>)</h2><h3 id="the-when-routine" style="position:relative"><a href="#the-when-routine" aria-label="the when routine permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">when</code> routine</h3><p>The <a href="../ts-docs/interfaces/BaseBinderBuilder.html#when"><code class="language-text">when</code></a> routine defines a contract that the user interaction data must fulfil to create and execute a command.
The <code class="language-text">toProduce</code> routine waits for <code class="language-text">when</code> to return true before creating a command, and commands are only
executed if <code class="language-text">when</code> returns true.
This routine takes as argument an anonymous function that returns a boolean. If <code class="language-text">when</code> is not configured,
then it will always return true.</p><p>In this example, <code class="language-text">when</code> checks that the interaction operates on an SVG element contained inside the canvas.
If <code class="language-text">when</code> is never true, the binding does not create or execute the command.</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">longTouchBinder</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">onDynamic</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> i<span class="token punctuation">.</span>src<span class="token punctuation">.</span><span class="token function">tgt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">instanceof</span> <span class="token class-name">SVGElement</span><span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><p>The results of <code class="language-text">when</code> may change during the execution of the interaction, for example:</p><ul><li>It may be false when the interaction starts, but then become true.
In this case, the command is created when <code class="language-text">when</code> becomes true and is executed when the interaction ends;</li><li>It may be true when the interaction starts, but then become false.
In this case, the command is created (and possibly updated) at the beginning of the interaction,
but never executed as <code class="language-text">when</code> must be true at the end of the interaction in order to execute the command.</li></ul><h4 id="cumulative-when-routines" style="position:relative"><a href="#cumulative-when-routines" aria-label="cumulative when routines permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Cumulative <code class="language-text">when</code> routines</h4><p><code class="language-text">when</code> is also cumulative: if the <code class="language-text">when</code> routine is used several times in the same binder, the conditions
from each routine are combined.</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">longTouchBinder</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">onDynamic</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> conditionA<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> conditionB<span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><p>In this example, a command will only be executed if <code class="language-text">conditionA</code> <strong>and</strong> <code class="language-text">conditionB</code> are true.</p><h4 id="when-mode" style="position:relative"><a href="#when-mode" aria-label="when mode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>When mode</h4><p>You can specify when the binding must consider your <code class="language-text">when</code> routine during the execution of the user interaction.
To do so, the <code class="language-text">when</code> routine has a second optional parameter which type is <a href="../ts-docs/enums/WhenType.html"><code class="language-text">WhenType</code></a></p><p>By default (if not specified), the when mode is <code class="language-text">nonStrict</code>: the predicate will be executed at start/then/end without cancelling the binding execution.
The other modes are:</p><ul><li><code class="language-text">end</code>: the predicate will be executed at the end and will cancel the binding execution if not fulfilled</li><li><code class="language-text">strict</code>: The predicate will be executed at start/then/end and will cancel the binding execution if not fulfilled</li><li><code class="language-text">strictStart</code>: The predicate will be executed at start and will cancel the binding execution if not fulfilled</li><li><code class="language-text">strictThen</code>: The predicate will be executed at start and at each update and will cancel the binding execution if not fulfilled.</li><li><code class="language-text">then</code>: The predicate will be executed at start and at each update without cancelling the binding execution.</li></ul><p>Note that there is no <code class="language-text">strictEnd</code> since the end of a binding execution is by default strict.
Note that there is no <code class="language-text">start</code> (just <code class="language-text">strictStart</code>) since <code class="language-text">then</code> encompasses <code class="language-text">start</code>.
Strict modes cancel the binding execution, while non-strict modes just prevent the creation/execution of the command at a given instant.</p><p>In the following example (<a href="https://github.com/interacto/example-angular/blob/master/src/app/tab-shapes/tab-shapes.component.ts">from this Angular demonstration app</a>), the DnD touch interaction forbidds to use more touchs while performing the touch DnD. This is a quite complex operation that requires several <code class="language-text">when</code> routines with different modes.</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">reciprocalTouchDnDBinder</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>appComponent<span class="token punctuation">.</span>handle<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>appComponent<span class="token punctuation">.</span>spring<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">onDynamic</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">toProduce</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">MoveRect</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>src<span class="token punctuation">.</span>target <span class="token keyword">as</span> SVGRectElement<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">.</span>nativeElement<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    c<span class="token punctuation">.</span>vectorX <span class="token operator">=</span> i<span class="token punctuation">.</span>diffClientX<span class="token punctuation">;</span>
    c<span class="token punctuation">.</span>vectorY <span class="token operator">=</span> i<span class="token punctuation">.</span>diffClientY<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// Cannot start if multi points are used (ie if more than one point is currently used)</span>
    <span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> i<span class="token punctuation">.</span>src<span class="token punctuation">.</span>allTouches<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">,</span> WhenType<span class="token punctuation">.</span>strictStart<span class="token punctuation">)</span>
    <span class="token comment">// Cannot ends if multi points are used (ie if it remains more than 0 point)</span>
    <span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> i<span class="token punctuation">.</span>tgt<span class="token punctuation">.</span>allTouches<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">,</span> WhenType<span class="token punctuation">.</span>end<span class="token punctuation">)</span>
    <span class="token comment">// Cannot continue if multi points are used (ie if more than one point is currently used)</span>
    <span class="token punctuation">.</span><span class="token function">when</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> i<span class="token punctuation">.</span>tgt<span class="token punctuation">.</span>allTouches<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">,</span> WhenType<span class="token punctuation">.</span>strictThen<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">continuousExecution</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><h2 id="the-first-routine-interaction-start" style="position:relative"><a href="#the-first-routine-interaction-start" aria-label="the first routine interaction start permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">first</code> routine: interaction start</h2><p>A binding calls the <code class="language-text">first</code> routine once right after the creation of the command.
It takes as arguments the current interaction data (<code class="language-text">i</code>) and the current command (<code class="language-text">c</code>).
The goal of <code class="language-text">first</code> is to update command parameters or to provide specific user feedback at the beginning of
an interaction&#x27;s execution.</p><p>In this example, <code class="language-text">first</code> applies a blurred-shadow effect on the object to be moved.</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">dragLockBinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">toProduce</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Translate</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span><span class="token function">getSrcObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">onDynamic</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> i<span class="token punctuation">.</span>src<span class="token punctuation">.</span><span class="token function">tgt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setEffect</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DropShadow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><p>Note that just like for the creation of commands, the binding waits for <code class="language-text">when</code> to return
true before executing <code class="language-text">first</code>. It might therefore not be called right when the interaction starts.</p><h2 id="the-then-routine-interaction-update" style="position:relative"><a href="#the-then-routine-interaction-update" aria-label="the then routine interaction update permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">then</code> routine: interaction update</h2><p>The <code class="language-text">then</code> routine is called on each update of a running user interaction.
This routine takes as arguments the current interaction data (<code class="language-text">i</code>) and the current command (<code class="language-text">c</code>).</p><p>The main goal of the <code class="language-text">then</code> routine is to update the parameters of the ongoing command using the current interaction data.
In this example, <code class="language-text">then</code> updates the translation vector to move an object. Note that while the user&#x27;s mouse is not
moving, the interaction will not be updated and <code class="language-text">then</code> will therefore not be called.</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">dragLockBinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">toProduce</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Translate</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span><span class="token function">getSrcObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">onDynamic</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span><span class="token function">setCoord</span><span class="token punctuation">(</span>
    c<span class="token punctuation">.</span><span class="token function">getShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> i<span class="token punctuation">.</span><span class="token function">getEndX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> i<span class="token punctuation">.</span><span class="token function">getSrcX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    c<span class="token punctuation">.</span><span class="token function">getShape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> i<span class="token punctuation">.</span><span class="token function">getEndY</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> i<span class="token punctuation">.</span><span class="token function">getSrcY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><h2 id="the-end-cancel-endorcancel-routines-interaction-ends-cancels-ends-or-canceled" style="position:relative"><a href="#the-end-cancel-endorcancel-routines-interaction-ends-cancels-ends-or-canceled" aria-label="the end cancel endorcancel routines interaction ends cancels ends or canceled permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">end</code>, <code class="language-text">cancel</code>, <code class="language-text">endOrCancel</code> routines: Interaction Ends, Cancels, Ends or Canceled</h2><h3 id="the-end-routine" style="position:relative"><a href="#the-end-routine" aria-label="the end routine permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">end</code> routine</h3><p>When the interaction ends, the binding calls the <code class="language-text">end</code> routine (if the <code class="language-text">when</code> predicate is respected).
This routine takes as arguments the current interaction data (<code class="language-text">i</code>) and the current command (<code class="language-text">c</code>).
In the example, <code class="language-text">end</code> changes the text message of a text widget when a button is clicked, after
the execution of a command that clears the contents of a text field.</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">buttonBinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">toProduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">Clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>erase<span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status<span class="token punctuation">.</span>nativeElement<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&#x27;Cleared&#x27;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><h3 id="the-cancel-routine" style="position:relative"><a href="#the-cancel-routine" aria-label="the cancel routine permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">cancel</code> routine</h3><p>Users can cancel some user interactions, such as the DnD
(if <code class="language-text">true</code> is passed as an argument to specify that the interaction is cancellable).
While using the DnD, pressing the <code class="language-text">escape</code> key cancels the ongoing DnD: the interaction is stopped and reinitialized and
the ongoing command aborted.</p><p>When an interaction is cancelled, the binding calls the <code class="language-text">cancel</code> routine, whether the <code class="language-text">when</code> predicate is respected or not.
This routine takes as argument the current interaction data (<code class="language-text">i</code>).</p><p>In the example, <code class="language-text">cancel</code> calls a method that shows an animation on the concerned element.</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">dndBinder</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">toProduce</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">MoveObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>canvas<span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">showCancelAnimation</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><h3 id="the-endorcancel-routine" style="position:relative"><a href="#the-endorcancel-routine" aria-label="the endorcancel routine permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">endOrCancel</code> routine</h3><p>When the interaction ends or is cancelled, the binding calls the <code class="language-text">endOrCancel</code> routine
(if the interaction has ended normally, the <code class="language-text">when</code> predicate has to be respected to call <code class="language-text">endOrCancel</code>).</p><p>This routine takes as argument the current interaction data (<code class="language-text">i</code>).
This routine does not replace <code class="language-text">end</code> or <code class="language-text">cancel</code>: the binding calls this routine right after <code class="language-text">end</code> or <code class="language-text">cancel</code>.</p><p>In the example, <code class="language-text">endOrCancel</code> changes the style of the source object of the DnD.</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">dndBinder</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">endOrCancel</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span>src<span class="token punctuation">.</span><span class="token function">tgt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>visibility <span class="token operator">=</span> <span class="token string">&#x27;hidden&#x27;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><h2 id="the-ifhadeffects-and-ifhadnoeffect-routines" style="position:relative"><a href="#the-ifhadeffects-and-ifhadnoeffect-routines" aria-label="the ifhadeffects and ifhadnoeffect routines permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">ifHadEffects</code> and <code class="language-text">ifHadNoEffect</code> routines</h2><p>The <code class="language-text">ifHadEffects</code> and <code class="language-text">ifHadNoEffect</code> routines are called at the end of a successful interaction, after the <code class="language-text">end</code>
and <code class="language-text">endOrCancel</code> routines.
They are called respectively if the command produced an effect, and if the command didn&#x27;t.</p><p>To determine whether a command produced an effect, Interacto uses the <code class="language-text">hadEffect()</code> method of the <code class="language-text">Command</code> interface.
It returns true if the command produced an effect.
The default implementation for the <code class="language-text">CommandBase</code> class returns true as long as the command has been executed at least once.
To customize this behaviour, you can redefine the <code class="language-text">hadEffect()</code> method in your own commands.</p><p>In this example, a message indicates to the user if trying to change the color of an SVG element to blue
had an effect or not. Here is the binding configuration code:</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">buttonBinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">toProduce</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">ChangeColorToBlue</span><span class="token punctuation">(</span>mySVGElement<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>myButton<span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">ifHadEffects</span><span class="token punctuation">(</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status<span class="token punctuation">.</span>nativeElement<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&#x27;The element is now blue!&#x27;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">ifHadNoEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status<span class="token punctuation">.</span>nativeElement<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&#x27;The element was already blue.&#x27;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><p>And here is the command code:</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">ChangeColorToBlue</span> <span class="token keyword">extends</span> <span class="token class-name">CommandBase</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> previousColor<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
    
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> <span class="token keyword">readonly</span> svgElt<span class="token operator">:</span> SVGElement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">protected</span> <span class="token function">execution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>previousColor <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>svgElt<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&#x27;fill&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>svgElt<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#x27;fill&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;blue&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> override <span class="token function">hadEffect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>previousColor <span class="token operator">!==</span> <span class="token string">&#x27;blue&#x27;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div></div></div><h2 id="the-ifcannotexecute-routine" style="position:relative"><a href="#the-ifcannotexecute-routine" aria-label="the ifcannotexecute routine permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">ifCannotExecute</code> routine</h2><p>When a binding tries to execute a command but fails because the command&#x27;s <code class="language-text">canExecute()</code> method returned false,
the binding calls the <code class="language-text">ifCannotExecute</code> routine.
This routine takes as arguments the current interaction data (<code class="language-text">i</code>) and the current command (<code class="language-text">c</code>).</p><p>In this example, pressing the button executes a command that tries to purchase an item but fails if the user&#x27;s
funds are insufficient.</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">buttonBinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">toProduce</span><span class="token punctuation">(</span>i <span class="token operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name">PurchaseItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>myButton<span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">ifCannotExecute</span><span class="token punctuation">(</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status<span class="token punctuation">.</span>nativeElement<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&#x27;You do not have enough money to purchase this item.&#x27;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><h2 id="the-catch-routine" style="position:relative"><a href="#the-catch-routine" aria-label="the catch routine permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">catch</code> routine</h2><p>The <code class="language-text">catch</code> routine allows the processing of errors during the execution of the binding.
This routine is called when an error is thrown in one of the arrow functions provided to the different routines.
This routine takes as argument the error (<code class="language-text">ex</code>).</p><p>TODO: give an example</p><h2 id="the-log-routine-logging" style="position:relative"><a href="#the-log-routine-logging" aria-label="the log routine logging permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">log</code> routine: logging</h2><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">nodeBinder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>LogLevel<span class="token punctuation">.</span>interaction<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><p>Bindings support logging systems at different levels.
In the example the binding logs the user interaction execution.
This feature is useful for debugging a binding.
There exists three logging levels:</p><ul><li><code class="language-text">LogLevel.interaction</code>: this level logs information related to the execution of the user interaction</li><li><code class="language-text">LogLevel.command</code>: this level logs information related to the production of commands</li><li><code class="language-text">LogLevel.binding</code>: this level logs information related to the behavior of the binding</li></ul><h2 id="the-stopimmediatepropagation-routine" style="position:relative"><a href="#the-stopimmediatepropagation-routine" aria-label="the stopimmediatepropagation routine permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">stopImmediatePropagation</code> routine</h2><p>The <code class="language-text">stopImmediatePropagation</code> routine follows the same idea as the <code class="language-text">stopImmediatePropagation</code> method of the <code class="language-text">Event</code> class :
it stops the propagation of the current event processed by the user interaction to the next bindings (and their user interaction).
See the documentation related to <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/stopImmediatePropagation">Event.stopImmediatePropagation()</a>.
An example:</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">longTouchBinder</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token comment">// Consumes the events before the</span>
    <span class="token comment">// multi-touch interaction use them</span>
    <span class="token punctuation">.</span><span class="token function">stopImmediatePropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">multiTouchBinder</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token operator">...</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><p>In this example the first binding consumes the touch event its long touch interaction will process.
This prevents the multi-touch interaction to start while doing a long touch.</p><h2 id="the-preventdefault-routine" style="position:relative"><a href="#the-preventdefault-routine" aria-label="the preventdefault routine permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">preventDefault</code> routine</h2><p>The <code class="language-text">preventDefault</code> routine follows the same idea as the <code class="language-text">preventDefault</code> method from the <code class="language-text">Event</code> class :
it stops the default behavior of the browser on the event.</p><p>In the example, a long touch will normally lead the browser to show the context menu, but we
might prefer to have our own custom menu appear.
The use of <code class="language-text">preventDefault</code> prevents this default behavior from occurring.
See the documentation related to <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault">Event.preventDefault()</a>.</p><div class="gatsby-highlight" data-language="ts"><div class="collapsible-module--container--34e1c"><button class="collapsible-module--header--b400e">TypeScript / Angular<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-down" width="15" height="15" viewBox="0 0 20 20" stroke-width="2" stroke="#ffffff" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><polyline points="6 9 12 15 18 9"></polyline></svg></button><div class="collapsible-module--content--b6d65"><pre class="language-ts"><code class="language-ts"><span class="token keyword">this</span><span class="token punctuation">.</span>bindings<span class="token punctuation">.</span><span class="token function">longTouchBinder</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span>
    <span class="token comment">// Prevents the context menu to pop-up</span>
    <span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div></div><h2 id="the-throttle-routine" style="position:relative"><a href="#the-throttle-routine" aria-label="the throttle routine permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">throttle</code> routine</h2><p>This routine is not implemented in TypeScript yet (even if provided by the API, this has no effect).</p><p>TODO: more details and give examples</p><h2 id="the-name-routine" style="position:relative"><a href="#the-name-routine" aria-label="the name routine permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The <code class="language-text">name</code> routine</h2><p>Name the binding. Useful when logging information.
TODO: more details and give examples</p> </div></div></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/routines/";window.___webpackCompilationHash="a9410e964c9639339e6f";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-ae1b69751b4af7620e9a.js"],"app":["/app-10b1f44c669cc6ac24d3.js"],"component---src-pages-404-js":["/component---src-pages-404-js-73a4d5672b7b69032fc4.js"],"component---src-pages-index-js":["/component---src-pages-index-js-e37500e1864e4669514f.js"],"component---src-pages-mdx-slug-js":["/component---src-pages-mdx-slug-js-56d283acb674716fd171.js"]};/*]]>*/</script><script src="/polyfill-ae1b69751b4af7620e9a.js" nomodule=""></script><script src="/app-10b1f44c669cc6ac24d3.js" async=""></script><script src="/framework-8a814660e1809f11ebdd.js" async=""></script><script src="/webpack-runtime-ce67e290df66b0dd30ac.js" async=""></script></body></html>