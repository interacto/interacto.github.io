<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Interacto</title>
    <link href="css/interacto.css" rel="stylesheet">
    <link href="css/default.min.css" rel="stylesheet">
    <script src="js/highlight.pack.js" type="text/javascript"></script>
    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
</head>


<body>

<div class="header">
    <div class="box left"><a href="https://github.com/interacto">Github</a></div>
    <div class="box left"><a href="https://www.npmjs.com/package/interacto">npmjs</a> (v4.4.0)</div>
    <div class="box left"><a href="https://search.maven.org/search?q=interacto">Maven Central</a> (v4.3.0)</div>
</div>

<div class="desc">
<h1>Interacto</h1>
<p>
    <b>Interacto</b> is a front-end framework for processing user interface events.<br/>
    With Interacto developers handle user interactions (DnD, drag-lock, double-click, button click, pan, multi-touch, etc.) instead of low-level UI
    events.<br/>
    Developers configure how to turn a selected user interaction into a (undoable) UI command using a fluent API.
</p>
</div>


<div id="selector">
    <div id="lge" class="filter">
        <button id="ts" class="btn active">TypeScript / Angular</button>
        <button id="jfx" class="btn">JavaFX</button>
    </div>

    <div id="topic" class="filter">
        <button id="all" class="btn active">Show all</button>
        <button id="install" class="btn">Install</button>
        <button id="start" class="btn">How to start</button>
        <button id="interaction" class="btn">Interactions Examples</button>
        <button id="cmd" class="btn">Commands Examples</button>
        <button id="routine" class="btn">Routines Examples</button>
        <button id="testing" class="btn">Front-end Testing</button>
        <button id="irl" class="btn">IRL examples</button>
    </div>
</div>

<div>
    <div class="item start jfx install">
        <div class="box line-title">JavaFX and Maven</div>
        <div class="left box">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.github.interacto&lt;/groupId&gt;
    &lt;artifactId&gt;interacto-java-api&lt;/artifactId&gt;
    &lt;version&gt;4.3.0&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;io.github.interacto&lt;/groupId&gt;
    &lt;artifactId&gt;interacto-javafx&lt;/artifactId&gt;
    &lt;version&gt;4.3.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
        </div>

        <div class="center box">
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;io.github.interacto&lt;/groupId&gt;
    &lt;artifactId&gt;interacto-javafx-test&lt;/artifactId&gt;
    &lt;version&gt;4.3.0&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
        </div>
        <div class="right box">The library <code>interacto-javafx-test</code> is dedicated to JavaFX front-end
            testing
        </div>
    </div>




    <div class="item ts install start">
        <div class="line-title box">Angular and npm</div>
        <div class="left box">
<pre><code>npm install interacto</code></pre>
        </div>

<!--        <div class="center box">-->
<!--        </div>-->

<!--        <div class="right box">-->
<!--        </div>-->
    </div>



<!--    <div class="item ts interaction">-->
<!--        <div class="line-title box">Pressure, Click, Double-click</div>-->
<!--        <div class="left box">-->
<!--<pre><code>-->

<!--</code></pre>-->
<!--        </div>-->

<!--        <div class="center box">-->
<!--        </div>-->

<!--        <div class="right box">-->
<!--        </div>-->
<!--    </div>-->



<!--    <div class="item ts interaction">-->
<!--        <div class="line-title box">DnD, Draglock, N-click</div>-->
<!--        <div class="left box">-->
<!--<pre><code>-->

<!--</code></pre>-->
<!--        </div>-->

<!--        <div class="center box">-->
<!--        </div>-->

<!--        <div class="right box">-->
<!--        </div>-->
<!--    </div>-->



<!--    <div class="item ts interaction">-->
<!--        <div class="line-title box">Touch, Multi-touch, Tap</div>-->
<!--        <div class="left box">-->
<!--<pre><code>-->

<!--</code></pre>-->
<!--        </div>-->

<!--        <div class="center box">-->
<!--        </div>-->

<!--        <div class="right box">-->
<!--        </div>-->
<!--    </div>-->


<!--    <div class="item ts interaction">-->
<!--        <div class="line-title box">Long Touch, Swipe, Pan</div>-->
<!--        <div class="left box">-->
<!--<pre><code>-->

<!--</code></pre>-->
<!--        </div>-->

<!--        <div class="center box">-->
<!--        </div>-->

<!--        <div class="right box">-->
<!--        </div>-->
<!--    </div>-->


<!--    <div class="item ts interaction">-->
<!--        <div class="line-title box">Button, Checkbox, Color</div>-->
<!--        <div class="left box">-->
<!--<pre><code>-->

<!--</code></pre>-->
<!--        </div>-->

<!--        <div class="center box">-->
<!--        </div>-->

<!--        <div class="right box">-->
<!--        </div>-->
<!--    </div>-->

    <div class="item ts start cmd">
        <div class="line-title box">How to start: an example</div>
        <div class="left box">
<pre><code class="ts">ngAfterViewInit(): void {
  buttonBinder()
    .on(this.clearButton.nativeElement)
    .toProduce(() => new ClearText(this.text))
    .bind();
}</code></pre>
            The binding operates on <code>clearButton</code> to produce a command <code>ClearText</code>.
            Bindings are defined in <code>ngAfterViewInit</code> of the component.
            <br/>
            The binding manages the (un-)registration with the button, the creation of the command on each button click, and the move of the executed commands in a commands registry for undo/redo purposes.
            <br/>
            <br/>
            A binder follows the builder pattern:
            it configures the binding to define how to turn the selected user interaction into commands.
            <br/>
            The terminal routine <code>bind()</code> builds the binding.
        </div>

        <div class="center box">
<pre><code class="ts">export class MyComponent implements AfterViewInit {
   @ViewChild('clearbutton')
   private clearButton: ElementRef;
...
}</code></pre>
        <code>clearButton</code> is a property of the component class
        </div>

        <div class="right box">
<pre><code class="ts">export class ClearText extends CommandImpl {
   private memento: string;

   public constructor(private text: TextData) {}

   protected createMemento(): void {
     this.memento = this.text.text;
   }

   protected doCmdBody(): void {
     this.text.text = '';
   }

   public undo(): void {
     this.text.text = this.memento;
   }

   public redo(): void {
     this.doCmdBody();
   }

   public getUndoName(): string {
     return 'Clear text';
   }
}</code></pre>
            <code>ClearText</code> is an undoable command.
            The memento preserves the former content of text data.
            The binding and commands registry automatically call the methods of this command.
            You can place your commands wherever you want.
            We suggest grouping them into a <code>command</code> folder.
        </div>
    </div>


    <div class="item ts start interaction routine">
        <div class="line-title box">How to select a user interaction</div>
        <div class="left box">
    <pre><code>clickBinder()
  ...
  .bind();</code></pre>
            The user interaction selection is the goal of the first binding routine.
            For each user interaction provided by Interacto, a dedicated routine exists.
            Here <code>clickBinder()</code> for a <code>click</code> interaction.
        </div>

        <div class="center box">
            Routines for standard user interactions:<br/>
            <code>buttonBinder, checkboxBinder, colorPickerBinder, comboBoxBinder, spinnerBinder, dateBinder, hyperlinkBinder, textInputBinder</code>
            <br/>
            <br/>
            Routines for standard mouse-based interactions:<br/>
            <code>clickBinder, dbleClickBinder, pressBinder, scrollBinder, dndBinder, dragLockBinder</code>
        </div>

        <div class="right box">
            Routines for touch interactions:<br/>
            <code>multiTouchBinder, tapBinder, longTouchBinder, swipeBinder, panBinder</code>
            <br/>
            <br/>
            Routines for standard key-based interactions:<br/>
            <code>keyPressBinder, keysPressBinder, keysTypeBinder, keyTypeBinder</code>
        </div>
    </div>


    <div class="item ts start routine">
        <div class="line-title box">What are <code>i</code> and <code>c</code> in binding routines?</div>
        <div class="left box">
    <pre><code class="ts"></code></pre>

        </div>

        <div class="center box">

        </div>

        <div class="right box">

        </div>
    </div>




    <div class="item ts start routine">
        <div class="line-title box">How to register with widgets: the <code>on</code> and <code>onDynamic</code> routines</div>
        <div class="left box">
    <pre><code class="ts">buttonBinder()
  .on(this.button.nativeElement)
  ...
  .bind();</code></pre>
            The <code>on</code> routine identifies the widgets on which the user interaction will operate.
            <br/>
            A binding can operate on several widgets:
            <pre><code class="ts">buttonBinder()
  .on(this.button1.nativeElement, this.button2.nativeElement)
  ...
  .bind();</code></pre>
        </div>

        <div class="center box">
    <pre><code class="ts">longTouchBinder(2000)
  .onDynamic(this.canvas.nativeElement)
  ...
  .bind();</code></pre>
        The registration to widgets can be dynamic:<br/>
        a binding can listen for changes in the children list of a given widget.
        For each new child, the binding will operate on it.
        For each removed child, the binding will not operate on it any more.
        </div>

        <div class="right box">
    <pre><code class="ts">dndBinder()
  .on(this.canvas.nativeElement)
  ...
  .bind();</code></pre>
            <b>Optimization</b>: a user interaction does not listen for all the UI events that concern it.
            <br/>
            For example a DnD is an assembly of press, drag, release, and key type events.
            The user interaction registers with the strictly necessary events at a given instant:
            a DnD starts with a pressure, so that the interaction listens for a pressure event.
            The pressure must be followed by moves, so that the interaction listens for move events only, etc.
        </div>
    </div>




    <div class="item ts start routine">
        <div class="line-title box">How to filter user interaction data: the <code>when</code> routine (and <code>strictStart</code>)</div>
        <div class="left box">
    <pre><code class="ts">longTouchBinder(2000)
  .onDynamic(this.canvas.nativeElement)
  .when(i => i.getSrcObject() instanceof SVGElement)
  ...
  .bind();</code></pre>
            The <code>when</code> routine defines a contract that the user interaction data must fulfil to create/execute a command.
        On this example <code>when</code> checks that the interaction operates on an SVG element contained by the canvas.
        <br/>
            If <code>when</code> is never true, the binding does not create or executed a command.<br/><br/>
        The results of <code>when</code> may change during the execution of the interaction, for examples:<br/>
        - it may be false on interaction start to be then true, so that the command is created only <code>when</code> is true to be executed on when the interaction ends;
        <br/>
        - it may be true on interaction start to be then false, so that the command is first created (and possibly updated), but never executed as <code>when</code> must be true at the end of the interaction for executing the command.
        </div>

    <div class="center box">
    <pre><code class="ts">dndBinder()
  .onDynamic(this.canvas.nativeElement)
  .when(i => i.getTgtObject() instanceof SVGElement)
  .strictStart()
  ...
  .bind();</code></pre>
        The <code>strictStart</code> routine requires the routine <code>when</code> to return true on interaction start.
        Otherwise the binding will cancel the ongoing user interaction.<br/>
        For example with the code example, if the target object of the DnD is not an SVG element when the interaction starts,
        then the binding will cancel the DnD.
    </div>
    <div class="right box">

    </div>
    </div>






    <div class="item ts start cmd">
        <div class="line-title box">Anonymous command</div>
        <div class="left box">
    <pre><code class="ts">clickBinder()
  .on(this.canvas.nativeElement)
  .toProduce(i => new AnonCmd(() => {
     console.log(i.getSrcClientX());
  }))
  .bind();</code></pre>
            If you do not want to code your own command you can use the <code>AnonCmd</code> class.
        This command takes as argument a lambda to be called on the execution of the command.
        This lambda can use the interaction data.
        </div>

        <div class="center box">
        </div>

        <div class="right box">
        </div>
    </div>


<!--    <div class="item ts interaction">-->
<!--        <div class="line-title box">Combobox, Date, Hyperlink</div>-->
<!--        <div class="left box">-->
<!--<pre><code>-->

<!--</code></pre>-->
<!--        </div>-->

<!--        <div class="center box">-->
<!--        </div>-->

<!--        <div class="right box">-->
<!--        </div>-->
<!--    </div>-->


<!--    <div class="item ts interaction">-->
<!--        <div class="line-title box">Text Input, Spinner, Scroll</div>-->
<!--        <div class="left box">-->
<!--<pre><code>-->

<!--</code></pre>-->
<!--        </div>-->

<!--        <div class="center box">-->
<!--        </div>-->

<!--        <div class="right box">-->
<!--        </div>-->
<!--    </div>-->


<!--    <div class="item ts interaction">-->
<!--        <div class="line-title box">Key Pressure, Key Typing, Keys Typing</div>-->
<!--        <div class="left box">-->
<!--<pre><code>-->

<!--</code></pre>-->
<!--        </div>-->

<!--        <div class="center box">-->
<!--        </div>-->

<!--        <div class="right box">-->
<!--        </div>-->
<!--    </div>-->


</div>



<script src="js/interacto.js" type="text/javascript"></script>
</body>
</html>

